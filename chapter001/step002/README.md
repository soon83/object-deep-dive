# CAHPTER 01

# 객체, 설계

## 02 무엇이 문제인가
관람객과 판매원이 극장의 통제를 받는 수동적인 존재라는 점이다.
Theater 클래스의 enter 메서드가 수행하는 일을 말로 풀어보자.
- 소극장은 관람객의 가방을 열어 그 안에 초대장이 들어있는지 살펴본다.
- 가방 안에 초대장이 들어 있으면 판매원은 매표소에 보관돼 있는 티켓을 관람객의 가방 안으로 옮긴다.
- 가방 안에 초대장이 없으면 관람객의 가방에서 티켓 금액만큼의 현금을 꺼내 매표소에 적립한다.
- 그리고 매표소에 보관돼 있는 티켓을 관람객의 가방에 넣는다.

코드를 이해하기 어렵게 만드는 이유가 하나 더 있다.
Theater 클래스의 enter 메서드를 이해하기 위해서는 Audience 가 Bag 을 가지고 있고, Bag 안에는 현금과 티켓이 들어있으며,
TicketSeller 가 TicketOffice 에서 티켓을 판매하고, TicketOffice 안에 돈과 티켓이 보관돼 있다는 모든 사실을 동시에 기억하고 있어야 한다.

가장 심각한 문제는 이것이 아니다.
Audience 와 TicketSeller 를 변경할 경우 Theater 도 함께 변경해야 한다는 사실이다.
즉, 변경에 취약한 코드가 된다는 것이 가장 큰 문제이다.
이것은 객체 사이의 의존성과 관련된 문제다.
객체사이의 의존성이 과한 경우를 가리켜 결합도가 높다고 말한다.
두 객체 사이의 결합도가 높으면 높을수록 함께 변경될 확률도 높아지기 때문에 변경하기 어려워진다.
따라서 설계의 목표는 객체 사이의 결합도를 낮춰 변경이 용이한 설계를 만드는 것이어야 한다.

## 03 설계 개선하기
객체의 자율성을 높이자.